# Product Requirements Document: The "Transformo AI Content Strategist"

**Version:** 2.1  
**Date:** July 24, 2025  
**Author:** Gemini  
**Project Stakeholder:** You

## 1. Overview & Vision

### 1.1. The Problem
Business owners know they need to create video content but are paralyzed by not knowing what topics will attract real customers and how to turn those topics into effective video scripts.

### 1.2. The Solution
The "Transformo AI Content Strategist" is a free lead magnet that solves this problem with a simplified, powerful approach. By leveraging a single, search-enabled Large Language Model (LLM), the tool acts as an instant market researcher and scriptwriter. It takes a user's business details, discovers the top 20 questions their potential customers are asking online, and then immediately writes a high-quality video script for each question.

### 1.3. Core Goal
To generate a consistent stream of highly-qualified leads for the Transformo 7-day free trial by delivering an immense, actionable package of 20 complete video scripts and guiding them through a clear, conversion-focused "next steps" funnel.

## 2. Personas

**Alex the Prospect:** A small-to-medium business owner (e.g., a dentist in Brisbane, a family lawyer in Sydney). Alex is an expert in their field but a novice at marketing. They are time-poor and need clear, actionable guidance that will lead to tangible business results.

**Charlie the Admin:** You or a member of the Transformo team. Charlie needs to track the leads generated by the tool and ensure the marketing automation is working.

## 3. User Flow

1. **Landing Page:** Alex sees a Facebook ad and lands on a page promising to deliver 20 video scripts tailored to their business.
2. **Input Form:** Alex fills out a simple form to provide the necessary context.
3. **Lead Capture:** To generate their free report, Alex provides their name and business email.
4. **Processing:** The system shows a loading state, indicating that it's performing AI-powered research and scriptwriting.
5. **Report Delivery:** Alex is presented with a dedicated, multi-step "Action Plan" page. The page progressively loads their 20 scripts while immediately showing them the next steps to record their video and, most importantly, launch their campaign with Transformo.
6. **Email Nurture:** Alex is automatically entered into an email sequence designed to guide them toward using Transformo to produce these videos.

## 4. Feature Specifications & User Stories

### 4.1. Public-Facing Tool

#### Story 1: The Landing & Input Form
**As** Alex the Prospect,  
**I want** to fill out a simple, clear form about my business,  
**So that** the tool has enough context to give me truly personalized and relevant results.

**Acceptance Criteria:**
- The UI will be built with shadcn/ui components.
- The form will have the following fields:
  - **Business Type/Industry:** A searchable dropdown with categorized options.
  - **Business Description:** A free-text box where Alex can explain their specialization and key services.
  - **Marketing Location:** Radio buttons for "Local", "State Wide", or "National".
  - **City:** A text field for their primary city of operation.
  - **Country:** A text field for their country of operation.
  - **Website URL:** An optional text field.
  - **First Name, Last Name, Company Name, Email:** The final step to capture the lead.

#### Story 2: The "Action Plan" Results Page
**As** Alex the Prospect,  
**I want** to see a clear, step-by-step plan that takes me from my generated scripts to a full marketing campaign,  
**So that** I understand the value of Transformo and am compelled to sign up.

**Acceptance Criteria:**
- The page will be structured into three clear steps.
- **Step 1: Get Your AI-Generated Scripts**
  - This section will initially show the first 5 video titles.
  - The remaining 15 titles will stream in one-by-one in real-time as they are generated.
  - Each title will be a clickable accordion. Clicking a title will expand it to show the full, formatted script.
- **Step 2: Record Your Video**
  - This section will feature two embedded videos side-by-side.
  - Video 1 Title: "Option 1: Record Your Video Manually"
  - Video 2 Title: "Option 2: Use an AI Avatar with HeyGen"
- **Step 3: Launch Your Campaign with Transformo (Primary Focus)**
  - This section will be the most prominent part of the page.
  - It will feature a main, high-quality embedded video demonstrating the power of Transformo.
  - Optimized Headline: "Turn One Video Into a Complete Marketing Campaign"
  - Optimized Sub-headline: "See how Transformo takes your video and automatically creates blog posts, email newsletters, and social media updates, then distributes them across the internet for you."
  - It will have two clear, distinct CTA buttons below the video:
    - Primary CTA: "Start 7-Day Free Trial" (Button with solid background)
    - Secondary CTA: "Book a Live Demo" (Button with outline/ghost style)

### 4.2. Backend & AI Core Logic

#### Story 3: AI-Powered Question Discovery
**As** the System,  
**I want** to use a single prompt to a search-enabled LLM to discover the top 20 customer questions,  
**So that** I can efficiently generate a list of high-intent video topics.

**Acceptance Criteria:**
- The system will send one comprehensive prompt to the Core LLM.
- **The Prompt:** "Act as a market research expert. For a {Business Type} in {City}, {Country} that offers these services: {Business Description}, find and list the top 20 questions their potential customers are typing into Google when they are looking to purchase. The questions should be phrased as compelling video titles."
- The LLM will perform its own internal web search to find and generate this list.

#### Story 4: AI-Powered Script Generation & Real-time Persistence (UPDATED)
**As** the System,  
**I want** to loop through the 20 generated titles, create a research-backed script for each one based on the "Endless Customers" framework, and save it to the database immediately,  
**So that** the user can see the scripts appearing on their report page in real-time.

**Acceptance Criteria:**
- The system will iterate through the list of 20 titles.
- For each title, it will send a second, detailed prompt to the Core LLM. Google Gemini 1.5 Pro is the recommended model for this task due to its superior ability to perform web research and generate high-quality, structured creative text in a single step.
- **The Script Generation Prompt:**
  ```
  "You are an expert YouTube scriptwriter for a {Business Type} named {Company Name} located in {City}, {Country}. Your task is to write a high-quality, 1-2 minute video script for the title: '{Title}'.
  
  Step 1: Research. First, perform a thorough web search on the topic '{Title}' to gather the most accurate, compelling, and up-to-date information. Synthesize this research to form the core teaching points for the script.
  
  Step 2: Write the Script. Using your research, write the script. It MUST strictly follow the 'Endless Customers' YouTube script outline, which combines the QQPP Method and the Video Six framework. The script must be structured with the following distinct sections:
  
  Teaser (QQPP Method): Start with the QQPP (Question, Question, Promise, Preview) method to create a powerful hook.
  - Question 1: Ask a direct question that speaks to the viewer's pain point.
  - Question 2: Ask a second, related question to confirm they are in the right place.
  - Promise: State the value the viewer will get from watching the video.
  - Preview: Briefly mention the key points you will cover.
  
  Introduction: The presenter introduces themselves and the topic, setting expectations for the video.
  
  Teaching Segments: Break the main content into 2-3 clear, educational segments. Each segment should teach one key aspect of the topic based on your research. Use simple language and provide actionable advice.
  
  Summary: Briefly summarize the key teaching points covered in the video.
  
  Call to Action (CTA): End with a clear, direct call to action. Tell the viewer what to do next, referencing the business: 'For more advice on this, contact {Company Name} today for a free consultation.'"
  ```
- **Crucially:** After each script is generated, the system will perform a single, efficient INSERT operation to save the new title and script as a new row in the generated_scripts table. This database write will trigger the real-time update on the frontend.

### 4.3. Admin & System Automation
(These stories remain unchanged)

## 5. Technical Stack & API Specifications

- **Frontend Framework:** Next.js (App Router)
- **UI Components:** Tailwind CSS with shadcn/ui
- **Hosting:** Vercel
- **Backend / Database / Auth:** Supabase
- **Real-time Updates:** Supabase Realtime Subscriptions. The frontend will subscribe to INSERT events on the generated_scripts table (filtered for the current lead_id) to progressively load the generated scripts.
- **Core LLM:** LLM with Real-Time Web Search.
  - **Recommended Implementation:** Google Gemini API (specifically Gemini 1.5 Pro with its built-in Google Search tool enabled).
  - **Alternative:** Perplexity API (pplx-api).

## 6. Data Model (Supabase)

### Table: leads

| Column Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| id | uuid | Primary Key, Default gen_random_uuid() | Unique identifier for the lead. |
| created_at | timestampz | Not Null, Default now() | Timestamp of when the lead was created. |
| first_name | text | | User's first name. |
| last_name | text | | User's last name. |
| company_name | text | | User's company name. |
| website_url | text | | The website URL provided by the user. |
| email | text | Not Null | User's email address. |
| business_type | text | | Industry selected from the dropdown. |
| business_description | text | | The free-text description provided. |
| marketing_location | text | | 'Local', 'State Wide', or 'National'. |
| city | text | | City of operation. |
| country | text | | Country of operation. |

### Table: generated_scripts

| Column Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| id | uuid | Primary Key, Default gen_random_uuid() | Unique identifier for the script. |
| lead_id | uuid | Foreign Key -> leads.id, Not Null | Links the script back to the lead. |
| title | text | Not Null | The video title. |
| script_body | text | Not Null | The full text of the generated script. |
| order_index | integer | Not Null | A number from 1-20 to maintain order. |
| created_at | timestampz| Not Null, Default now() | Timestamp of when the script was created. |

## 7. Success Metrics

- **Lead Conversion Rate:** (Number of successful form submissions / Number of unique page visitors) > 10%.
- **Trial Sign-up Rate:** (Number of leads who start a Transformo trial within 14 days / Total number of leads).
- **Demo Booked Rate:** (Number of leads who book a demo / Total number of leads).
- **Cost Per Lead (CPL):** Total ad spend / Number of successful form submissions.

## 8. Essential Implementation Requirements

### 8.1. Environment Variables
```
OPENROUTER_API_KEY - OpenRouter API key for Gemini access
GOHIGHLEVEL_API_KEY - GoHighLevel API authentication
GOHIGHLEVEL_LOCATION_ID - Sub-account ID
GOHIGHLEVEL_WORKFLOW_ID - Workflow to add contacts to
```

### 8.2. Database Schema Updates
Add to `leads` table:
- `short_hash` (text, unique) - For URL generation (8 characters)
- `ghl_contact_id` (text) - To track GoHighLevel sync status

### 8.3. Core API Routes
```
POST /api/generate - Submit form, create lead, start script generation
GET /api/results/[hash] - Retrieve and display results page
```

### 8.4. OpenRouter Integration
- Use OpenRouter API to access Google Gemini 1.5 Pro
- Model ID: `google/gemini-pro-1.5`
- Headers: `Authorization: Bearer ${OPENROUTER_API_KEY}`
- Endpoint: `https://openrouter.ai/api/v1/chat/completions`

### 8.5. Error Handling
- If AI generation fails after 3 retries, save the lead and show: "We're experiencing high demand. We'll email you when your scripts are ready."
- Store partial results if some scripts generate successfully
- Log errors but continue with remaining scripts

### 8.6. Security Requirements
- Validate email format (regex: `/^[^\s@]+@[^\s@]+\.[^\s@]+$/`)
- Sanitize all text inputs to prevent XSS
- Use Supabase Row Level Security (RLS) policies
- Generate cryptographically secure short hashes

### 8.7. Loading States
- Show "Generating your personalized scripts..." with spinner during AI calls
- Display script count as they complete: "Generated 5 of 20 scripts..."
- Progressive loading with real-time updates via Supabase subscriptions

## Clarified Requirements

Based on stakeholder feedback, the following requirements have been confirmed:

### Admin Features
- Dashboard to view all leads and their generated scripts
- Export functionality for lead data  
- Analytics on script generation and conversion metrics

### Email Automation & CRM Integration
- GoHighLevel Integration: All leads will be pushed to GoHighLevel CRM via API
- GoHighLevel will handle all email nurture sequences
- API endpoints needed:
  - POST /contacts/ (create contact)
  - POST /contacts/:contactId/workflow/:workflowId (add to automation)

### Authentication & Access
- No user accounts or login system
- Email users a unique URL containing a short hash ID (not full UUID)
- URL format: `/results/[short-hash]`
- URLs remain active indefinitely

### Data Retention
- All generated scripts and lead data stored permanently
- No automatic deletion or data expiration

### Landing Page
- Minimal design with headline, subheadline, and form only
- No testimonials, trust badges, or additional content needed

### Analytics Tracking
Priority events to track:
- Form abandonment points
- CTA button clicks (trial and demo)
- Time spent on results page

### Error Handling
- Retry failed AI generations automatically (up to 3 attempts)
- Email users when scripts are ready (if initial generation fails)
- Show partial results if some scripts generate successfully

### Business Types/Industries
Comprehensive categorized dropdown list including:

**Healthcare & Medical**
- Dentist
- Orthodontist
- Chiropractor
- Physical Therapist
- Optometrist
- Veterinarian
- Medical Clinic
- Mental Health Counselor
- Dermatologist
- Pediatrician

**Legal Services**
- Family Lawyer
- Criminal Defense Attorney
- Estate Planning Attorney
- Personal Injury Lawyer
- Business/Corporate Lawyer
- Immigration Attorney
- Bankruptcy Attorney
- Real Estate Attorney

**Home Services**
- Plumber
- Electrician
- HVAC Technician
- Roofing Contractor
- General Contractor
- Landscaper
- Pest Control
- House Cleaning Service
- Handyman
- Painter

**Professional Services**
- Accountant/CPA
- Financial Advisor
- Insurance Agent
- Real Estate Agent
- Mortgage Broker
- Business Consultant
- Marketing Agency
- Web Design Agency
- IT Services
- HR Consultant

**Automotive**
- Auto Repair Shop
- Auto Detailing
- Tire Shop
- Auto Body Shop
- Car Dealership
- Motorcycle Repair

**Beauty & Wellness**
- Hair Salon
- Nail Salon
- Spa/Massage Therapy
- Barber Shop
- Makeup Artist
- Esthetician
- Tattoo Studio

**Fitness & Recreation**
- Gym/Fitness Center
- Personal Trainer
- Yoga Studio
- Martial Arts School
- Dance Studio
- Sports Coach/Training

**Education & Childcare**
- Tutoring Service
- Daycare Center
- Preschool
- Music Teacher
- Art Classes
- Driving School

**Food & Hospitality**
- Restaurant
- Catering Service
- Bakery
- Food Truck
- Coffee Shop
- Bar/Nightclub

**Retail & E-commerce**
- Clothing Store
- Jewelry Store
- Pet Store
- Furniture Store
- Electronics Store
- Online Retailer

**Other Services**
- Photography/Videography
- Event Planning
- Travel Agency
- Funeral Home
- Moving Company
- Storage Facility

### Technical Specifications
- Mobile-first responsive design
- English language only
- No API rate limiting or cost management needed initially
- No integration with existing Transformo systems

### GoHighLevel Integration Details (API v2)
Based on the GoHighLevel API v2 documentation:

1. **Create Contact** - POST /contacts/
   - Required fields:
     - firstName, lastName, email
     - phone (optional but recommended)
     - locationId (sub-account ID)
   - Additional fields:
     - companyName
     - city, state, country, postalCode
     - source (e.g., "Transformo AI Content Strategist")
   - Custom fields array for:
     - business_type
     - business_description  
     - marketing_location
     - website_url

2. **Add Contact to Workflow** - POST /contacts/:contactId/workflow/:workflowId
   - Requires the contactId from step 1
   - workflowId must be configured in GoHighLevel beforehand
   - This triggers the automation sequence

3. **Required API Scopes:**
   - contacts.write (for creating contacts and adding to workflows)
   - conversations.write (optional, for future messaging features)

4. **Webhook Events to Handle:**
   - ContactCreate - Confirms contact was created successfully
   - ContactUpdate - Track any updates to contact
   - ContactTagUpdate - Monitor tag changes
   - Workflow events for tracking automation progress

5. **Implementation Notes:**
   - All API calls require Authorization header with Bearer token
   - Use sub-account level access (not agency level)
   - Handle rate limiting appropriately
   - Store GoHighLevel contact ID for future reference